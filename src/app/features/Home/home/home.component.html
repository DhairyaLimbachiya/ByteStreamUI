<div class="container">
    <div class="my-5">
        <div class="row align-items-stretch">
            <ng-container *ngIf="vacancies ">
                <div class="col-12 col-md-4 mb-3" *ngFor="let vacancy of vacancies">
                    <div class="card h-100">
                        <div class="card-body d-flex flex-column">
                            <h5 class="card-title">{{vacancy.jobTitle}}</h5>
                            <div class="card-text">Organization Name: {{vacancy.publishedBy}}</div>
                            <div class="card-text">No of Vacancies: {{vacancy.noOfVacancies}}</div>
                            <div class="card-text">Salary Range: {{vacancy.minSalary}} - {{vacancy.maxSalary}}</div>
                            <span class="d-flex align-items-end mt-3" style="flex: 1">
                                <button type="button" (click)="OnModelOpen(vacancy.publishedBy,vacancy.id)"
                                    class="btn btn-primary" data-toggle="modal" data-target="#exampleModalCenter">
                                    read more
                                </button>
                            </span>
                            <div class="modal fade modal-xl" id="exampleModalCenter" tabindex="-1" role="dialog"
                                aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
                                <div class="modal-dialog modal-dialog-scrollable" role="document">
                                    <div class="modal-content">
                                        <div class="modal-header">
                                            <h5 class="modal-title" id="exampleModalLongTitle">Vacancy Details</h5>
                                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                                <span aria-hidden="true">&times;</span>
                                            </button>
                                        </div>
                                        <div class="modal-body">
                                            <div class="card container-sm mt-4"
                                                style="background-color: rgba(192, 229, 244, 0.314);">
                                                <div class="card-body">
                                                    <div class="row d-flex justify-content-start">
                                                        <div class="col-4 d-flex align-items-center gap-2">
                                                            <label for="organization" class="text-nowrap"><b>Job Title 
                                                                    :</b></label>
                                                            <div class="card-text">{{vacancy.publishedBy}}</div>

                                                        </div>
                                                        <div class="col-4 d-flex align-items-center gap-2">
                                                            <label for="publishedBy" class="text-nowrap"><b>PublishedBy
                                                                    :</b></label>
                                                            <div class="card-text">{{vacancy.publishedBy}}</div>
                                                        </div>
                                                    </div>

                                                    <div class="row d-flex justify-content-start">
                                                        <div class="col-4 d-flex align-items-center gap-2">
                                                            <label for="noOfVacancies" class="text-nowrap"><b>No Of
                                                                    Vacancies</b></label>
                                                            <div class="card-text">{{vacancy.noOfVacancies}}</div>
                                                        </div>
                                                        <div class="col-4 d-flex align-items-center gap-2">
                                                            <label for="minimumQualification"
                                                                class="text-nowrap"><b>Minimum Qualification</b></label>
                                                            <div class="card-text">{{vacancy.minimumQualification}}
                                                            </div>
                                                        </div>
                                                    </div>

                                                    <div class="row d-flex justify-content-start">
                                                        <div class="col-4 d-flex align-items-center gap-2">
                                                            <label for="lastDate" class="text-nowrap"><b>Last Date to
                                                                    Apply</b></label>
                                                            <div class="card-text">
                                                                {{vacancy.lastDate|date:'dd-MM-yyyy'}}</div>
                                                        </div>
                                                        <div class="col-4 d-flex align-items-center gap-2">
                                                            <label for="experienceRequired"
                                                                class="text-nowrap"><b>Experience Required</b></label>
                                                            <div class="card-text">{{vacancy.experienceRequired}}</div>
                                                        </div>

                                                    </div>
                                                    <div class="col-4 d-flex align-items-center gap-2 ">
                                                        <label for="noOfEmployees" class="text-nowrap"><b>Salary Range :
                                                            </b></label>
                                                        <div class="card-text">{{vacancy.minSalary}} -
                                                            {{vacancy.maxSalary}}</div>

                                                    </div>
                                                    <div class="  align-items-center gap-2 mt-3 ">
                                                        <label for="noOfEmployees" class="text-nowrap"><b>Job
                                                                Description </b></label>
                                                        <div style="white-space: pre-wrap; text-align: justify;
                                                ">{{vacancy.jobDescription}}</div>
                                                    </div>


                                                    <hr>
                                                    <h3 class="text-center">About {{employer.organization}}</h3>
                                                    <div class="row d-flex justify-content-around mt-3">
                                                        <div class="col-4 d-flex align-items-center gap-2 mt-2">
                                                            <label for="organization" class="text-nowrap"><b>Company
                                                                    Email
                                                                    :</b></label>
                                                            <div class="card-text">{{employer.companyEmail}}</div>
                                                        </div>
                                                        <div class="col-4 d-flex align-items-center gap-2">
                                                            <label for="publishedBy" class="text-nowrap"><b>Contact No
                                                                    :</b></label>
                                                            <div class="card-text">{{employer.companyPhone}}</div>
                                                        </div>
                                                    </div>

                                                    <div class="row d-flex justify-content-around mt-3">
                                                        <div class="col-4 d-flex align-items-center gap-2">
                                                            <label for="noOfVacancies" class="text-nowrap"><b>No Of
                                                                    Employees</b></label>
                                                            <div class="card-text">{{employer.noOfEmployees}}</div>
                                                        </div>
                                                        <div class="col-4 d-flex align-items-center gap-2">
                                                            <label for="minimumQualification"
                                                                class="text-nowrap"><b>Start in Year</b></label>
                                                            <div class="card-text">{{employer.startYear}}
                                                            </div>
                                                        </div>
                                                    </div>


                                                    <div class="  align-items-center gap-2 mt-3 ">
                                                        <label for="noOfEmployees" class="text-nowrap"><b>More about
                                                                Synoptek </b></label>
                                                        <div style="white-space: pre-wrap; text-align: justify;
                                                ">{{employer.about}}</div>
                                                    </div>



                                                </div>

                                            </div>
                                        </div>
                                        <div class="modal-footer">
                                            <button type="button" class="btn btn-secondary"
                                                data-dismiss="modal">Close</button>
                                            <ng-container
                                                *ngIf="user !== undefined && user?.userType?.includes('JobSeeker')  && !vacancyDetail.alreadyApplied">
                                                <button type="button" (click)="ApplyVacancy()" class="btn btn-primary"
                                                    data-dismiss="modal">Apply</button>
                                            </ng-container>
                                            <ng-container
                                                *ngIf="user !== undefined && user?.userType?.includes('JobSeeker') && vacancyDetail.alreadyApplied ">
                                                <button type="button" disabled class="btn btn-primary"
                                                    data-dismiss="modal">Already Applied </button>
                                            </ng-container>
                                            
                                        </div>
                                    </div>
                                </div>
                            </div>

                        </div>
                    </div>
                </div>